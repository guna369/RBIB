cure ptttern ctlculus
Wvrry Jvy) vny Deliv Keâ€œner2
1 hnivxrsity oy gxvhnology, fywnxy, cbj@ig.hgf.edh.ah
2 ccf, Vaef tnw hnivxrsitx ctris J, kefaee@ccf.jhffieh.fe
Abstract. ghx purx ptttxrn vtlvulus gxnxrtlisxs thx purx ltmuwt-vtl-
vulus uy utsing vomputttion on ptttxrn-mttvhing instxtw oy uxtt-rxwuv-
tionA ghx simplivity tnw powxr oy thx vtlvulus wxrivx yrom tllowing tny
txrm to ux t ptttxrnA Ts wxll ts supporting t uniyorm tpprotvh to yunv-
tions, it supports t uniyorm tpprotvh to wttt struvturxs whivh unwxrpins
two nxw yorms oy polymorphismA Iama iherfhkiablf supports sxtrvhxs
or quxrixs tlong tll ptths through tn truitrtry wttt struvturxA Iammekg
iherfhkiablf supports thx wyntmiv vrxttion tnw xvtluttion oy ptttxrns,
so thtt quxrixs vtn ux vustomisxw in rxtvtion to nxw inyormttion tuout
thx struvturxs to ux xnvountxrxwA In vomuinttion, thxsx yxtturxs proviwx
t ntturtl tvvount oy ttsks suvh ts progrtmming with kML ptthsA
Ts thx vtritulxs usxw in mttvhing vtn now ux xliminttxw uy rxwuvtion
it is nxvxsstry to sxptrttx thxm yrom thx uinwing vtritulxs usxw to von-
trol svopxA ghxn sttnwtrw txvhniquxs suvx to xnsurx thtt rxwuvtion
progrxssxs tnw to xsttulish vonuxnvx oy rxwuvtionA
1 Introduction
ihe lvmwyvBxvlxuluâ€œ iâ€œ v theory of funxtionâ€œ fihixh iâ€œ pofierful enough to moyel
vrwitrvry xomputvtionâ€œC In itâ€œ pure form every term iâ€œ v funxtionA â€œo thvt funxB
tion vrgumentâ€œ vre themâ€œelveâ€œ funxtionâ€œC huxh higherBoryer funxtionâ€œ give v xlevn
vxxount of rexurâ€œion vâ€œ the vpplixvtion of the flpoint funxtionC Vlâ€œo yvtv â€œtruxB
tureâ€œ â€œuxh vâ€œ pvirâ€œA liâ€œtâ€œ vny treeâ€œ xvn we moyelley vâ€œ higherBoryer funxtionâ€œ
thvt tvke vâ€œ vrgumentâ€œ funxtionâ€œ thvt vre to vxt on the yvtv â€œtorey fiithin the
â€œtruxtureC Xentrvl to the eflpreâ€œâ€œive pofier of the lvmwyvBxvlxuluâ€œ iâ€œ thvt v â€œingle
ruleA wetvBreyuxtionA iâ€œ uâ€œey to yeâ€œxriwe the evvluvtion of vn vrwitrvry funxtionC
ihiâ€œ uniformity vllofiâ€œ v â€œingle funxtion to we vppliey in v vvriety of yierent
â€œituvtionâ€œA iCeC â€œupportâ€œ funxtion polymorphiâ€œmC jnfortunvtelyA the yeâ€œxription
of yvtv â€œtruxtureâ€œ iâ€œ not â€œo uniformC Vlthough the lvmwyvBxvlxuluâ€œ â€œupportâ€œ
funxtionâ€œ thvt vxt uniformly on vll pvirâ€œA or vll liâ€œtâ€œA it xvnnot â€œupport opervB
tionâ€œ thvt eflploit xhvrvxteriâ€œtixâ€œ xommon to vll yvtv â€œtruxtureâ€œC iheâ€œe inxluye
opervtionâ€œ for â€œevrxhingA upyvting vny vggregvting thvt vre vt the hevrt of yvtv
proxeâ€œâ€œing wut yo not mvke â€œenâ€œe fiith lvmwyvBvwâ€œtrvxtionâ€œC
In v fivyA thiâ€œ iâ€œ â€œurpriâ€œing wexvuâ€œe â€œuxh opervtionâ€œ xvn we â€œpexiey quite
â€œimplyC Every yvtv â€œtruxture iâ€œ either vn utom or v wompounxC [or eflvmpleA
every liâ€œt iâ€œ either empty or iâ€œ xompounyey from v hevy vny v tvilA every tree
iâ€œ either v levf or v noyeC lith thiâ€œ xhvrvxteriâ€œvtionA one xvn yene â€œevrxhing v
yvtv â€œtruxture y vâ€œ follofiâ€œO
FC if y iâ€œ the govl then return yP
GC elâ€œe if y iâ€œ v xompouny yvtv â€œtruxture then trvverâ€œe itâ€œ xomponentâ€œP
HC elâ€œe â€œtopC
[or eflvmpleA xonâ€œiyer the prowlem of liâ€œting vll the pointâ€œ in v yvtv â€œtruxtureC
Evxh point iâ€œ repreâ€œentey wy termâ€œ of the form doint t fihere doint iâ€œ v xonâ€œtruxtor
uâ€œey to repreâ€œent pointâ€œ fihoâ€œe yvtv iâ€œ repreâ€œentey wy t wut the nvture of the
â€œtruxture holying the pointâ€œ iâ€œ not knofinC aet the â€œyntvfl px); : : : ; xnr we uâ€œey
for the liâ€œt fihoâ€œe entrieâ€œ vre given wy x); : : : ; xn vny let sUt we the reâ€œult of
vppenying s to the front of tC cofi the â€œolution xvn we given wy v pvtternB
mvtxhing funxtion yeney wy wusys
lytryc listdoints R
doint y â†’ pdoint yr
| x y â†’ =listdoints x) U =listdoints y)
| y â†’ p r
ihe moâ€œt intereâ€œting xvâ€œe of the three iâ€œ the â€œexonyA fihoâ€œe pvttern x y iâ€œ vwle
to mvtxh vgvinâ€œt vn urvitrurfl xompouny yvtv â€œtruxtureC [or eflvmpleA fihen
listdoints iâ€œ vppliey to v pvir duir s t of pointâ€œ s vny t fie get
listdoints =duir s t) R ==listdoints duir) U =listdoints s)) U =listdoints t)
R =p r U psr) U ptr
R ps; tr
ihiâ€œ uniform vpprovxh to xompouny yvtv â€œtruxtureâ€œ â€œupportâ€œ puth polflmorphism
in fihixh vll pvthâ€œ through v yvtv â€œtruxture xvn we trvverâ€œeyC
Vnother eflvmple of pvth polymorphiâ€œm iâ€œ the funxtion thvt upyvteâ€œ point
yvtv fiithin vn vrwitrvry yvtv â€œtruxtureC It iâ€œ given wy
lytryc upxutydoint R f â†’
doint y â†’ doint =f y)
| z y â†’ =upxutydoint f z) =upxutydoint f y)
| y â†’ y
[urther genervliâ€œvtion iâ€œ vxhievey wy mvking doint v pvrvmeter to the gynyriw
upxuty funwtion yeney wy
lytryc upxuty R x â†’ f â†’
x y â†’y x =f y)
| z y â†’ =upxuty x f z) =upxuty x f y)
| y â†’ y
ihiâ€œ time the tfio vvrivwleâ€œ in the pvttern x y vwove wehvve quite yierently vâ€œ
x iâ€œ v fryy vuriuvly revyy to we â€œuwâ€œtitutey wyA â€œvyA doint fihile y iâ€œ v winying
vvrivwleA vâ€œ uâ€œuvlC io yiâ€œtinguiâ€œh theâ€œe vlternvtiveâ€œA the vrrofi in the xvâ€œe iâ€œ
yexorvtey fiith v â€œet of vinxing vuriuvlysA in thiâ€œ xvâ€œe juâ€œt yC lhere no â€œuwâ€œxript
iâ€œ â€œpexiey then vll the free vvrivwleâ€œ of the pvttern vre vâ€œâ€œumey wounyC
G
ihe funxtion upxuty iâ€œ puttyrn polflmorphiwA vâ€œ it xontvinâ€œ the free vvrivwle x
in the pvttern x y fihoâ€œe inâ€œtvntivtion xvn proyuxe v vvriety of yierent upyvte
funxtionâ€œC [or eflvmpleA upxuty doint reyuxeâ€œ to upxutydointC [urtherA if upxuty
iâ€œ vppliey to v xvâ€œe then the pvttern muâ€œt we reyuxey wefore mvtxhing xvn oxxurC
huxh efliwility in the uâ€œe of pvtternâ€œ levyâ€œ to the follofiing leitmotivO
tny term vtn ue t pttternC
ihiâ€œ xomplementâ€œ the viefi in lvmwyvBxvlxuluâ€œ thvt vny term xvn we v funxtionC
]enxeA the pury puttyrn wulwulus hvâ€œ term â€œyntvfl
t OOR x | t t | t â†’ t
xonâ€œiâ€œting of vvrivwleâ€œA vpplixvtionâ€œ vny xvâ€œeâ€œ p â†’ s fihere  iâ€œ v â€œet of vvrivwleâ€œA
itâ€œ vinxing vuriuvlysC In yening reyuxtion one muâ€œt râ€œt â€œpexify v â€œet of vvrivwleâ€œ
 fihixh vre to plvy the role of wonstruwtors =metvBvvrivwle x)C ihe â€œole reyuxtion
rule iâ€œ motivvtey wy the equvtion
=p â†’ s) u R {p=u}

 s =F)
fihere  iâ€œ yiâ€œjoint from C ]ere {p=u} iâ€œ the mutwh of p vgvinâ€œt u thvt proyuxeâ€œ
either v â€œuwâ€œtitution fiith yomvin  or v fvilureC
It mvy we â€œurpriâ€œing to iyentify the xonâ€œtruxtorâ€œ fiith v â€œet of vvrivwleâ€œA wut it
proveâ€œ xonvenient fihen reyuxing the pvttern of v xvâ€œe p â†’ s â€œinxe the vvrivwleâ€œ
in  vre xonâ€œiyerey to we xonâ€œtruxtorâ€œ fihen reyuxing the pvttern pC [or eflvmpleA
=x â†’fg x) x â†’x x reyuxeâ€œ to x â†’x x â€œinxe x iâ€œ xonâ€œtruxtor fiithin the pvttern
=x â†’fg x) xC
ihe pure pvttern xvlxuluâ€œ iâ€œ fiell wehvveyC In pvrtixulvrA every xloâ€œey term
of the form =p â†’ s) u iâ€œ reyuxiwleC Vlâ€œoA reyuxtion iâ€œ xonuentC
ihe â€œimplixity of the pure pvttern xvlxuluâ€œ iâ€œ weâ€œt vpprexivtey wy xompvring
to previouâ€œ vpprovxheâ€œ to pvtternBmvtxhingC eopulvr funxtionvl progrvmming
lvnguvgeâ€œ â€œuxh vâ€œ htvnyvry ba phbarA dXVba pdxvr vny ]vâ€œkell p]vâ€œr only
â€œupport irreyuxiwle pvtternâ€œ fihixh vre either hevyey wy v xonâ€œtruxtor or vre v
winying vvrivwleC gexent reâ€œevrxh hvâ€œ â€œought to vugment the xollextion of pvtB
ternâ€œ fiith nefi xonâ€œtruxtionâ€œ pKeiNKrA reyuxiwle pvtternâ€œ pXKNMr vny free vvriB
vwleâ€œ fihixh yo not wouny oxxurrenxeâ€œ in the woyy of the progrvm pWXKaEHrA vny
pvtternâ€œ for xompouny yvtv â€œtruxtureâ€œ pJvyEIxrC dnly the lvâ€œt of theâ€œe â€œupportâ€œ
pvth polymorphiâ€œm vny none of them â€œupportâ€œ pvttern polymorphix eflvmpleâ€œC
boreoverA the lvâ€œt of theâ€œe unyerpinney the yevelopment of typey xvlxuli
â€œupporting pvttern polymorphiâ€œm =eCgC pJvyEIvr) fihixh â€œought to vllofi more
yynvmix pvtternâ€œ =for uâ€œA polymorphiâ€œm iâ€œ vwout reBuâ€œvwilityA fihixh mvy we forB
mvliâ€œey wy typing)C iheâ€œe hvve ween uâ€œey to â€œupport the generix upyvteA vny
itâ€œ efltenâ€œion to hvnyle vrwitrvry mba pvthâ€œ p]JhEJvA]JhEJwrC ihey hvve vlâ€œo
ween uâ€œey to â€œupport vn owjext moyel vwle to â€œupport xentrvl govlâ€œ of owjextB
orientvtion pJvyEIwrC VgvinA they proviye vn vxxount of struwtury polflmorphism
pJXNIAJWbNMAJvyEIxr nexeâ€œâ€œvry to â€œupport opervtionâ€œ â€œuxh vâ€œ mvpping vny folyB
ing in v uniform fivyA â€œimilvr to polfltflpiw or gynyriw funwtionul progrumming
H
pJvnEEAWyb]NKAGJEHrC [invllyA the qâ€œxrvpByourBwoilerplvte7 vpprovxh pâ€œywEKr
â€œupportâ€œ â€œome key xvâ€œeâ€œ of pvth polymorphiâ€œmC
Vll theâ€œe xvlxuli vttemptey to xontrol vvrivwle winying wy reâ€œtrixting the xlvâ€œâ€œ
of pvtternâ€œ vny their reyuxtionC ]ofieverA â€œimplixity xomeâ€œ wy trevting winying
â€œepvrvtely from the pvttern itâ€œelfC It iâ€œ eflpextey thvt vll of the vpplixvtionâ€œ vwove
xvn we reBengineerey in the nefiA â€œimplerA frvmefiorkC
ihe â€œtruxture of the reâ€œt of the pvper iâ€œ vâ€œ follofiâ€œC hextion G introyuxeâ€œ the
termâ€œC hextion H yeneâ€œ reyuxtionC hextion I xonâ€œiyerâ€œ â€œome eflvmpleâ€œC hextion J
â€œhofiâ€œ thvt mvtxhing yoeâ€œ not get â€œtuxkC hextion K proveâ€œ reyuxtion iâ€œ xonuentC
hextion L yrvfiâ€œ xonxluâ€œionâ€œ vny xonâ€œiyerâ€œ further fiorkC
Tvknowlewgements le fiouly like to thvnk the vnonymouâ€œ refereeâ€œ vny EuB
genio boggi for their xonâ€œtruxtive xritixiâ€œmC
E gxrms
[ifl v xountvwle vlphvwet of vvrivwleâ€œ =metvBvvrivwleâ€œ : : : x; y; z)C aet  vny 
yenote nite â€œetâ€œ of vvrivwleâ€œC ihe notvtion ;  yenoteâ€œ the yiâ€œjoint union of
â€œuxh â€œetâ€œC ihe term â€œyntvfl of the pury puttyrn wulwulus iâ€œ
izrms t OOR x =vvrivwle)
t t =vpplixvtion)
t â†’ t =xvâ€œe)
ihe vvrivwleâ€œ vre vvvilvwle for winyingA mvtxhing vny â€œuwâ€œtitutionC ihe vpplixvB
tion r u vpplieâ€œ the funwtion r to itâ€œ urgumynt uC ihe xvâ€œe p â†’ s iâ€œ formey of v
puttyrn p vny v voxfl s linkey wy the â€œet  of vinxing vuriuvlysC Vpplixvtion iâ€œ leftB
vâ€œâ€œoxivtive vny xvâ€œe iâ€œ rightBvâ€œâ€œoxivtiveC Vpplixvtion winyâ€œ tighter thvn xvâ€œeC [or
eflvmple x â†’ x y z â†’y y iâ€œ equvl to x â†’ ===x y) z) â†’y y)C avmwyvBvwâ€œtrvxtion
xvn we yeney wy â€œetting x:t to we x â†’x tC
Fryy vuriuvlys of termâ€œ vre yeney wyO
fv=x) R {x}
fv=r u) R fv=r) âˆª fv=u)
fv=p â†’ s) R =fv=p) âˆª fv=s)) \ :
]enxe the winying vvrivwleâ€œ of v xvâ€œe winy their free oxxurrenxeâ€œ in woth the
pvttern vny woyyC V term iâ€œ wlosyx if it hvâ€œ no free vvrivwleâ€œC
ihe notvtion p â†’ s â€œtvnyâ€œ for p â†’fv(p) sC ]enxe progrvmmerâ€œ neey never
vxtuvlly mention winying vvrivwleâ€œ eflplixitly unleâ€œâ€œ they require free vvrivwleâ€œ
in the pvtternC
2A1 Mttvhes
V suvstitution  iâ€œ v pvrtivl funxtion from vvrivwleâ€œ to termâ€œC ihe notvtion
{x)=u); : : : ; xn=un} repreâ€œentâ€œ the â€œuwâ€œtitution thvt mvpâ€œ xi to ui for i R F : : : n
I
vny {} yenoteâ€œ the empty â€œuwâ€œtitutionC V mutwh =metvBvvrivwle m) iâ€œ either v
suwwyssful mutwhA given wy v â€œuwâ€œtitutionA or v fuiluryA yenotey wy nonyC ihe
uâ€œuvl xonxeptâ€œ vny notvtion vâ€œâ€œoxivtey fiith â€œuwâ€œtitutionâ€œ fiill we yeney for
vrwitrvry mvtxheâ€œC
ihe xomuin of  iâ€œ yenotey xom=)C ihe yomvin of nony iâ€œ the empty â€œetC
ihe â€œet of fryy vuriuvlys of  iâ€œ given wy the union of the â€œetâ€œ fv=x) fihere
x âˆˆ xom=)C Vlâ€œoA nony hvâ€œ no free vvrivwleâ€œC Dene the vuriuvlys of m to we
vur=m) R xom=m) âˆª fv=m)C
ihe uppliwution of v â€œuwâ€œtitution  to v term iâ€œ yeney wy
x R x if x âˆˆ xom=)
x R x if x =âˆˆ xom=)
=r u) R =r) =u)
=p â†’ s) R p â†’ s if vur=) âˆ©  R {}
ihe reâ€œtrixtion on the yenition of =p â†’ s) iâ€œ nexeâ€œâ€œvry to vvoiy v vuriuvly
wlush fihixh fiouly xhvnge the â€œemvntixâ€œ of the termC kvrivwle xlvâ€œheâ€œ fiill we
hvnyley wy Bxonverâ€œionC
If mvtxhing fvilâ€œ in Equvtion =F) then nony fiill we vppliey to the woyy of the
xvâ€œeA fihixh â€œhouly we yiâ€œxvryeyC dne poâ€œâ€œiwility iâ€œ to introyuxe v â€œpexivl error
termA wut mvtxh fvilure proviyeâ€œ v nvturvl wrvnxhing mexhvniâ€œm fihixh xvn we
uâ€œey to unyerpin the yenitionâ€œ of xonyitionvlâ€œ vny pvtternBmvtxhing funxtionâ€œC
]enxeA fie yene
nony t R x â†’x x:
Given mvtxheâ€œ m) vny m2 then m) ]m2 iâ€œ the mvtxh yeney vâ€œ follofiâ€œC If
m) vny m2 vre â€œuwâ€œtitutionâ€œ ) vny 2 whosy xomuins ury xisjoint then ) ]2
iâ€œ yeney wy
=) ] 2)x R
8<
:
)x if x âˆˆ xom=))
2x if x âˆˆ xom=2)
unyeney otherfiiâ€œeC
In vll other xirxumâ€œtvnxeâ€œ m) ] m2 R nonyC Diâ€œjoint yomvinâ€œ fiill we uâ€œey to
enâ€œure thvt mvtxhing iâ€œ yeterminiâ€œtixC
ihe womposition 2 â—¦ ) of tfio â€œuwâ€œtitutionâ€œ ) vny 2 iâ€œ yeney wy =2 â—¦
))x R 2=)x)C [urtherA if m) vny m2 vre mvtxheâ€œ of fihixh vt levâ€œt one iâ€œ nony
then m2 â—¦m) iâ€œ yeney to we nonyC
ihe whywk m of v mvtxh m on v â€œet of vvrivwleâ€œ  iâ€œ m if m iâ€œ v â€œuwâ€œtitution
fihoâ€œe yomvin iâ€œ eflvxtly  vny iâ€œ nony otherfiiâ€œeC
2A2 Tlpht vonversion
aet  we v â€œet of vvrivwleâ€œ vny x vny y we vvrivwleâ€œC ihen {x=y} iâ€œ yeney
to we the â€œet owtviney wy replvxing x wy y in  if x âˆˆ  vny y 6âˆˆ A vny to we
unyeney otherfiiâ€œeC
Vlphv xonverâ€œion iâ€œ the xongruenxe relvtion genervtey wy the follofiing vfliom
p â†’ s R {x=y}p â†’fx=yg {x=y}s if y =âˆˆ fv=p) âˆª fv=s):
J
[or eflvmpleA x y â†’y x =f y) R x z â†’z x =f z) if z iâ€œ not free in f C
Lemmt 1A For yvyrfl suvstitution  unx tyrm t thyry is un Ayquivulynt tyrm t0
suwh thut t0 is xynyx. If t) unx t2 ury Ayquivulynt tyrms thyn fv=t)) R fv=t2)
unx if u) R t) unx u2 R t2 ury voth xynyx thyn u) R u2.
droof. ihe proofâ€œ vre wy â€œtrvightforfivry inyuxtionâ€œC
[rom nofi onA v tyrm iâ€œ vn Bequivvlenxe xlvâ€œâ€œ in the term â€œyntvflC
F exduction
geyuxtion proxeeyâ€œ in tfio â€œtvgeâ€œO râ€œt genervte v mvtxh vny then vpply itC
3A1 Mttvhing
Dene the 'Axutu struwturys =metvBvvrivwle y) wy
y OOR x if x âˆˆ '
y u:
Dene the xutu struwturys to we the {}Byvtv â€œtruxtureâ€œC ihe 'Amutwhuvly forms
vre the 'Byvtv â€œtruxtureâ€œ vny vll xvâ€œeâ€œC ihe mutwhuvly forms vre the {}Bmvtxhvwle
formâ€œC
ihe vusiw mutwhing {p= u} of v term p =xvlley the puttyrn) vgvinâ€œt v term
u =xvlley the urgumynt) relvtive to v â€œet  of vinxing vuriuvlys vny v yiâ€œjoint â€œet
 of wonstruwting vuriuvlys =or wonstruwtors) iâ€œ the pvrtivl opervtion yeney wy
vpplying the follofiing equvtionâ€œ in oryer
{x= u} R {x=u} if x âˆˆ 
{x= x} R {} if x âˆˆ 
{q p= v u} R {q= v}

 ] {p= u}

 if q p iâ€œ v ; Bmvtxhvwle form
vny v u iâ€œ v Bmvtxhvwle form
{p= u} R nony if p iâ€œ v ; Bmvtxhvwle form
vny u iâ€œ v Bmvtxhvwle form
{p= u} R unyeney otherfiiâ€œeC
ihvt iâ€œA mvtxhing iâ€œ vlfivyâ€œ yeney if the pvttern iâ€œ v ; Bmvtxhvwle form vny
the vrgument iâ€œ v Bmvtxhvwle formA vny mvtxh fvilure xvn only vriâ€œe if ruleâ€œ
for â€œuxxeâ€œâ€œful mvtxhing yo not vpplyC V winying vvrivwle mvtxheâ€œ vnythingC V
xonâ€œtruxtor mvtxheâ€œ itâ€œelfC le fiill typixvlly uâ€œe the metvBvvrivwle x to yenote
v xonâ€œtruxtorC bvtxhing of xompouny yvtv â€œtruxtureâ€œ iâ€œ xomponentBfiiâ€œeA uâ€œing
=yiâ€œjoint) unionC cote thvt the oryering of the equvtionâ€œ xvn we vvoiyey wy
eflpvnying the yenition into vn inyuxtion on the â€œtruxture of the pvtternC
ihe uâ€œe of yiâ€œjoint unionâ€œ fihen mvtxhing xompouny pvtternâ€œ mevnâ€œ thvt
mvtxhing vgvinâ€œt v xompouny â€œuxh vâ€œ x x x xvn never â€œuxxeeyC hinxe nonBlinevr
pvtternâ€œ xvnnot we wvnney =vny term xvn we v pvttern)A the vlternvtive fiouly we
K
to vllofi it to mvtxh fiith termâ€œ of the form x u uC ]ofieverA thiâ€œ mvy xvuâ€œe v loâ€œâ€œ
of xonuenxeA vâ€œ in p[KEHAKvhEHrA for revâ€œonâ€œ grounyey in Klop'â€œ owâ€œervvtion
pKloMEr thvt the xomwinvtion of untypey Bxvlxuluâ€œ fiith non lyftAlinyur râ€œtB
oryer refiriting â€œyâ€œtemâ€œ wrevkâ€œ xonuenxeC
Vâ€œ yeneyA mvtxhing one xvâ€œe vgvinâ€œt vnother vlfivyâ€œ fvilâ€œC io yo otherfiiâ€œe
fiouly require thvt mvtxhing we pvrvmetriâ€œey wy yet vnother â€œet of vvrivwleâ€œA
repreâ€œenting thoâ€œe fihixh vre wouny fiithin the pvttern itâ€œelfA â€œo iâ€œ left for vnother
oxxvâ€œionC
aet p vny u we termâ€œ vny let  vny  we yiâ€œjoint â€œetâ€œ of vvrivwleâ€œC Dene
the mutwhing {p=u} of p uguinst u with ryspywt to vinxing vuriuvlys  unx wonA
struwtors  to we the xhexk of {p= u} on A fihere the xhexk of v mvtxh iâ€œ the
funxtion yeney in hextion GC ihe xhexk iâ€œ nexeâ€œâ€œvry to enâ€œure thvt reyuxtion
yoeâ€œ not vllofi wouny vvrivwleâ€œ to wexome freeC [or eflvmpleA {x=x}
fxg
fyg R nony
â€œinxe the wvâ€œix mvtxhing iâ€œ not yeney on yC
ihe pure pvttern xvlxuluâ€œ hvâ€œ v mutwh ruly given wy
=p â†’ s) u 7âˆ’â†’ {p=u}

 s =G)
pvrvmetriâ€œey wy the xhoixe of xonâ€œtruxtorâ€œ C ihvt iâ€œA if mvtxhing of the pvtB
tern vgvinâ€œt the vrgument proyuxeâ€œ v â€œuwâ€œtitution fihoâ€œe yomvin iâ€œ the winying
vvrivwleâ€œ then vpply thiâ€œ to the woyyC If the mvtxhing fvilâ€œ then return the iyenB
tity funxtionC df xourâ€œeA if {p=u} iâ€œ unyeney =eCgC wexvuâ€œe p or u neeyâ€œ to we
reyuxey) then the mvtxh rule yoeâ€œ not vpplyC
(pâ†’ s) u âˆ’â†’
1
 {p=u}

 s
r âˆ’â†’1 r
0
r u âˆ’â†’1 r
0 u
u âˆ’â†’1 u
0
r u âˆ’â†’1 r u
0
p âˆ’â†’1; p
0
pâ†’ s âˆ’â†’
1
 p
0 â†’ s
s âˆ’â†’1 s
0
pâ†’ s âˆ’â†’
1
 pâ†’ s
0
Fig. 1. bnx-stxp rxwuvtion
ihe onyAstyp ryxuwtion rylution âˆ’â†’) iâ€œ yeney wy the ruleâ€œ in [igure FC ihe
ryxuwtion rylution âˆ’â†’ iâ€œ the reefliveBtrvnâ€œitive xloâ€œure of âˆ’â†’
)
 C V term t iâ€œ
Birryxuwivly if there iâ€œ no reyuxtion of the form t âˆ’â†’) t
0C
ihe key point iâ€œ thvt the winying vvrivwleâ€œ of v xvâ€œe wexome xonâ€œtruxtorâ€œ
fihen reyuxing the pvtternC [or eflvmpleA
=x â†’fg x) x â†’x x âˆ’â†’
)
fg x â†’x x
â€œinxe the winying vvrivwle x wexomeâ€œ v xonâ€œtruxtor fihen reyuxing ==x â†’fg x) x)C
L
4 Extmplxs
-vtlvulus ihere iâ€œ v â€œimple emweyying of the pure Bxvlxuluâ€œ into the pure
pvttern xvlxuluâ€œ owtviney wy iyentifying the Bvwâ€œtrvxtion x:s fiith x â†’x s or
x â†’ sC evtternBmvtxhing for theâ€œe termâ€œ fiith reâ€œpext to vny â€œet of xonâ€œtruxtorâ€œ
iâ€œ eflvxtly the Breyuxtion of the Bxvlxuluâ€œC [or eflvmpleA the fipoint term
fi R =x â†’ f â†’ f =x x f)) =x â†’ f â†’ f =x x f))
xvn we uâ€œey to yene rexurâ€œive funxtionâ€œC V term yenition of the form lytryc x R
t fiill we interpretey vâ€œ giving f the vvlue fi =x â†’ t) in the uâ€œuvl fivyC
Construvtors It iâ€œ xommon to vyy to the Bxvlxuluâ€œ v xollextion  of term
xonâ€œtvntâ€œ to plvy the role of xonâ€œtruxtorâ€œ for yvtv â€œtruxtureâ€œC ]ere fie xvn yene
v progrum to xonâ€œiâ€œt of v pvir of v term p vny v â€œet of term vvrivwleâ€œ A vny
perform reyuxtion relvtive to C EquivvlentlyA one mvy yene v progrvm to we v
term of the form
p â†’ â€¢
fihere â€¢ âˆˆ A fiith reyuxtion relvtive to the empty â€œet of vvrivwleâ€œC
Brtnvhing vonstruvts aet hruy vny Zulsy we xonâ€œtruxtorâ€œ vny yene xonyiB
tionvlâ€œ wy
if b thyn s ylsy r R =hruy â†’ x â†’ s) b r
fihere x 6âˆˆ fv=s)C ihuâ€œA if hruy thyn s ylsy r reyuxeâ€œ to =x â†’ s) r vny then to s
fihile if Zulsy thyn s ylsy r reyuxeâ€œ to =y â†’ y) r vny then to rC bore genervllyA
the yfitynsion p â†’ s | r efltenyâ€œ the xvâ€œe p â†’ s fiith v xyfuult r wy
p â†’ s | r R x â†’ =p â†’ y â†’ s) x =r x)
fihere x 6âˆˆ fv=p â†’ s) âˆª fv=r) vny y 6âˆˆ fv=s)C lhen vppliey to â€œome term u
it reyuxeâ€œ to {p=u}=y â†’ s) =r u)C cofi if {p=u} iâ€œ â€œome â€œuwâ€œtitution  then
thiâ€œ reyuxeâ€œ to =y â†’ s) =r u) R =y â†’ s) =r u) vny then to s vâ€œ yeâ€œireyC
VlternvtivelyA if {p=u} R nony then the term reyuxeâ€œ to =nony =y â†’ s)) =r u) R
=z â†’ z) =r u) vny then to r u vâ€œ yeâ€œireyC
Efltenâ€œionâ€œ xvn we itervtey to proyuxe pvtternBmvtxhing funxtionâ€œ out of v
â€œequenxe of mvny xvâ€œeâ€œC bvke | rightBvâ€œâ€œoxivtive â€œo thvt
p) â†’ s)
| p2 â†’ s2
CCC
| pn â†’ sn
iâ€œ p) â†’ s) | =p2 â†’ s2 | =: : : | pn â†’ sn))C [or eflvmpleA the funxtion listdoints in
the introyuxtion iâ€œ yeney in thiâ€œ fivyC
Trithmetiv ihe nvturvl numwerâ€œ xvn we yeney vâ€œ yvtv â€œtruxtureâ€œ wuilt from
xonâ€œtruxtorâ€œ nyro vny guccyssorC ihen rexurâ€œive funxtionâ€œ xvn we yeney uâ€œing
M
fiC ihiâ€œ xompvreâ€œ fvvourvwly fiith the repreâ€œentvtion of numwerâ€œ vâ€œ the itervtorâ€œ
uâ€œey to yene the Xhurxh numervlâ€œC
Generiv equtlity cofi let uâ€œ xonâ€œiyer â€œome novel progrvmâ€œC V generix equvlity
iâ€œ yeney wy
yquul R x â†’ =x â†’fg hruy | y â†’ Zulsy)
fihere the râ€œt vrgument iâ€œ uâ€œey vâ€œ the pvttern for mvtxhing vgvinâ€œt the â€œexonyC
[or eflvmpleA yquul =guccyssor nyro) =guccyssor nyro) reyuxeâ€œ to hruyC ihiâ€œ iâ€œ v
â€œimple eflvmple of puttyrn polflmorphism fihere the pvttern iâ€œ xrevtey yynvmiB
xvllyC
ghe generiv eliminttor ihe generix eliminvtor iâ€œ given wy
ylim R x â†’ x y â†’y y
[or eflvmpleA ylim guccyssor reyuxeâ€œ to guccyssor y â†’ yC VgvinA â€œuppoâ€œe thvt the
liâ€œt xonâ€œtruxtorâ€œ Nil vny Cons vre given vny yene singlyton R x â†’ Cons x NilC
ihen ylim singlyton reyuxeâ€œ to Cons y Nil â†’ y wy reyuxtion of the pvtternC
Generiv upwtting evtternâ€œ of the form x y vre uâ€œey to vxxeâ€œâ€œ yvtv vlong
vrwitrvry pvthâ€œ through v yvtv â€œtruxtureA iCeC to â€œupport puth polflmorphismC
Xomwining the uâ€œe of pvttern vny pvth polymorphiâ€œm yielyâ€œ the generix upyvte
funxtion yeney in the introyuxtionC lhen vppliey to v xonâ€œtruxtor xA vny v
funxtion f vny v yvtv â€œtruxture y it replvxeâ€œ â€œuwBtermâ€œ of y of the form x t wy
x =f t)C [or eflvmpleA upxuty x f ==x u) =x v)) reyuxeâ€œ to =x =f u)) =x =f v))C In
genervlA upxuty xvn we vppliey to xvâ€œeâ€œC [or eflvmpleA upxuty singlyton f reyuxeâ€œ
to
Cons y Nil â†’ Cons =f y) Nil
| z y â†’ =upxuty singlyton f z) =upxuty singlyton f y)
| y â†’ y
Vlâ€œoA upyvting xvn we itervtey to give ner xontrolC [or eflvmpleA given xonB
â€œtruxtorâ€œ gulury; Employyy vny Dypurtmynt vny v funxtion f then the progrvm
upxuty Dypurtmynt =upxuty Employyy =upxuty gulury f))
upyvteâ€œ yepvrtmentvl employee â€œvlvrieâ€œC cote thvt it iâ€œ not nexeâ€œâ€œvry to knofi
hofi employeeâ€œ vre repreâ€œentey fiithin yepvrtmentâ€œ for thiâ€œ to fiorkA â€œo thvt v
nefi level of vwâ€œtrvxtion vriâ€œeâ€œA â€œimilvr to thvt fihixh mba iâ€œ intenyey to â€œupportC
ihe full rvnge of mba pvthâ€œ xvn we hvnyley wy yening vn vpproprivte vwâ€œtrvxt
yvtv typeA â€œimilvr to thvt of signposts given in p]JhEJvA]JhEJwrC
Wilw-vtrws It iâ€œ intereâ€œting to vyy v nefi xonâ€œtvnt yenotey T to the pure pvttern
xvlxuluâ€œA the wilxAwurxC It hvâ€œ no free vvrivwleâ€œ vny iâ€œ unvextey wy â€œuwâ€œtitutionC
It iâ€œ v yvtv â€œtruxtureA iâ€œ xompvtiwle fiith vnythingA vny hvâ€œ the mvtxhing rule
{T= u} R {}
for vny  vny C ihvt iâ€œA it wehvveâ€œ like v freâ€œh winying vvrivwle in v pvttern wut
like v xonâ€œtruxtor in v woyyC [or eflvmpleA the â€œexony vny râ€œt projextionâ€œ from
v pvir xvn we enxoyey vâ€œ ylim =duir T) vny ylim =x â†’ duir x T)C
N
ihe follofiing eflvmple uâ€œeâ€œ rexurâ€œion in the pvtternC Dene the funxtion for
the efltrvxting liâ€œt entrieâ€œ wy
lytryc yntryputtyrn R
gucc n â†’ x â†’ Cons T =yntryputtyrn n x)
| nyro â†’ x â†’ Cons x T
yntry R n â†’ ylim =yntryputtyrn n)
[or eflvmpleA yntry =gucc =gucc nyro)) reyuxeâ€œ to Cons T =Cons T =Cons x T)) â†’ x
fihixh rexoverâ€œ the â€œexony entry from v liâ€œtC cote the â€œtvnyvry vpprovxhA in
fihixh evxh oxxurrenxe of the fiilyBxvry repreâ€œentâ€œ v yiâ€œtinxt winying vvrivwleA
xvnnot â€œupport â€œuxh rexurâ€œionC
5 crogrxss
gheorem 1A Lyt t vy u tyrm whosy fryy vuriuvlys ury ull in somy syt . If t is
Airryxuwivly thyn t is u Amutwhuvly form. Hynwy, puttyrnAmutwhing wunnot gyt
stuwk.
droof. ihe proof iâ€œ wy inyuxtion on the â€œtruxture of tC lithout loâ€œâ€œ of genervlityA
it â€œuxeâ€œ to xonâ€œiyer t of the form =p â†’ s) uC cofi u iâ€œ BirreyuxiwleA vny p iâ€œ
; Birreyuxiwle vny â€œoA wy inyuxtionA u iâ€œ Bmvtxhvwle vny p iâ€œ ; BmvtxhvwleC
]enxe the wvâ€œix mvtxhing of p vgvinâ€œt u iâ€œ yeney vny â€œo t iâ€œ BreyuxiwleA xonB
trvyixting the vâ€œâ€œumptionC
I Conuxncx
Xonuenxe of reyuxtion iâ€œ eâ€œtvwliâ€œhey uâ€œing the pvrvllel reyuxtion texhnique yue
to ivit vny bvrtinBaof pWvrMIr fihixh xvn we â€œummvriâ€œey in four â€œtepâ€œO yene
v pvrvllel reyuxtion relvtion yenotey P prove thvt  vny âˆ’â†’ vre the â€œvme
relvtion =aemmv G)P â€œhofi thvt  hvâ€œ the yivmony property =iheorem G)P vny
uâ€œe thiâ€œ to prove xonuenxeC
aet  we v â€œet of vvrivwleâ€œC ihe purullyl Aryxuwtion rylution iâ€œ given in [igB
ure GC
t t
r  r
0 u  u
0
r u  r
0 u0
p; p
0 s s
0
pâ†’ s p
0 â†’ s
0
p; p
0 s s
0 u u
0
(pâ†’ s) u  {p
0=u0} s
0
Fig. 2. ctrtllxl -rxwuvtion
FE
Lemmt 2A Evyrfl onyAstyp Aryxuwtion is u purullyl Aryxuwtion. Also, yvyrfl purA
ullyl Aryxuwtion is u Aryxuwtion. Hynwy thy ryyfiivyAtrunsitivy wlosury  of
 is thy ryxuwtion rylution âˆ’â†’

 .
droof. ihe proofâ€œ vre wy â€œtrvightforfivry inyuxtion on the yenitionâ€œC
ihe purullyl Aryxuwtion rylution  wetfieen mvtxheâ€œ iâ€œ yeney vâ€œ follofiâ€œC
Given tfio â€œuwâ€œtitutionâ€œ  vny 0 then   
0 if xom=) R xom=0) vny x 
0x for every x âˆˆ xom=)C Vlâ€œo nony  nonyC huwâ€œtitutionâ€œ vny nony vre not
relvteyC
Lemmt 3A If t is u tyrm unx m is u mutwh thyn fv=mt) âŠ† fv=m) âˆª =fv=t) \
xom=m)).
droof. If m iâ€œ nony then the reâ€œult iâ€œ immeyivte â€œo vâ€œâ€œume thvt m iâ€œ v â€œuwâ€œtiB
tution C ihe proof iâ€œ wy inyuxtion on the â€œtruxture of tC If t iâ€œ p â†’ s fihere
 âˆ© vur=) R {} then
fv=p â†’ s) R =fv=p) âˆª fv=s)) \ 
âŠ† =fv=) âˆª ==fv=p) âˆª fv=s)) \ xom=))) \  =wy inyuxtion)
R fv=) âˆª =fv=t) \ xom=)):
ihe other xvâ€œeâ€œ vre â€œtrvightforfivryC
Lemmt GA If m R {p=u} for somy tyrms p unx u unx xisjoint syts of vuriuvlys
 unx  thyn fv=m) âŠ† fv=u).
droof. If m R nony then there iâ€œ nothing to proveC dtherfiiâ€œe the proof iâ€œ wy v
â€œtrvightforfivry inyuxtion on the â€œtruxture of pC
Lemmt 5A If t  t
0 is u purullyl ryxuwtion thyn fv=t0) âŠ† fv=t). Hynwy, if m 
m0 is u purullyl mutwh ryxuwtion thyn vur=m0) âŠ† vur=m).
droof. Wy aemmv G it â€œuxeâ€œ to prove the reâ€œult for the oneBâ€œtep reyuxtion
relvtionP fie only â€œhofi here the xvâ€œe of the reyuxtion rule =G)C ihen
fv=t0) R fv={p=u} s)
âŠ† fv={p=u}) âˆª =fv=s) \ xom={p=u}

)) =aemmv H)
âŠ† fv={p=u}) âˆª =fv=s) \ )
âŠ† fv=u) âˆª =fv=p â†’ s)) =aemmv I)
R fv=t):
Lemmt 6A Lyt m vy u mutwh unx lyt  unx  vy two xisjoint syts of vuriuvlys
suwh thut vur=m)âˆ© R xom=m)âˆ©) R {}. If p unx u ury tyrms suwh thut {p= u}
is xynyx thyn so is {m p= m u} unx {m p= m u}

 â—¦m R m â—¦ {p= u}

 . Hynwy
{m p=m u} â—¦m R m â—¦ {p=u}

 :
FF
droof. ihe â€œexony â€œtvtement follofiâ€œ yirextly from the râ€œtC If m iâ€œ nony then
woth â€œiyeâ€œ vre nonyC ho fiithout loâ€œâ€œ of genervlityA vâ€œâ€œume thvt m iâ€œ v â€œuwâ€œtitution
C ihe proof iâ€œ wy inyuxtion on the â€œtruxture of pC If p iâ€œ v vvrivwle x âˆˆ  then
woth â€œiyeâ€œ mvp x to u vny wehvve vâ€œ  on vll other vvrivwleâ€œ â€œinxe vur=m) âˆ©
 R {}C If p iâ€œ in  vny u iâ€œ the â€œvme then woth â€œiyeâ€œ vre mC If p vny u vre
xompvtiwle vpplixvtionâ€œ then vpply inyuxtion tfiixeC If {p= u} R nony then
{p= u} R nony =â€œinxe xom=) âˆ© = âˆª ) R {}) vny â€œo woth â€œiyeâ€œ of the mvtxh
equvtion vre nonyC
Lemmt 7A If p ; p
0 unx u  u
0 ury purullyl ryxuwtions on tyrms unx
{p=u} is xynyx thyn so is {p
0=u0} unx {p=u}

  {p
0=u0} .
droof. ihe proof iâ€œ wy inyuxtion on the â€œtruxture of pC If p iâ€œ v vvrivwle then p0
iâ€œ the â€œvme vvrivwle â€œo thvt the reâ€œult follofiâ€œ yirextlyC If p iâ€œ v xvâ€œe then woth
mvtxheâ€œ fiill fvilC dtherfiiâ€œe p muâ€œt we v ; Bmvtxhvwle form p) p2 vny u muâ€œt
we v Bmvtxhvwle formC If u iâ€œ not vn vpplixvtion then it muâ€œt we v xonâ€œtruxtor
or v xvâ€œeO either fivyA woth mvtxhingâ€œ fiill fvilC VlternvtivelyA if u R u) u2 then
iheorem F implieâ€œ thvt u) iâ€œ vlâ€œo v Byvtv â€œtruxture vny thuâ€œ u
0 R u0) u
0
2 fihere
u)  u
0
) vny u2  u
0
2C cofi p) iâ€œ v ; Byvtv â€œtruxture vny â€œo p
0 R p0) p
0
2 fihere
p) ; p
0
) vny p2 ; p
0
2C ]enxe inyuxtion vpplieâ€œC
Lemmt 8A If m  m
0 unx t  t
0 ury purullyl ryxuwtions of mutwhys unx
tyrms ryspywtivylfl unx xom=m) âˆ©  R {} thyn m t  m
0 t0.
droof. If m iâ€œ nony then m0 iâ€œ nony vny â€œo the reâ€œult iâ€œ immeyivteC ho vâ€œâ€œume
thvt m vny m0 vre â€œuwâ€œtitutionâ€œ  vny 0 reâ€œpextivelyC ihe proof iâ€œ wy inyuxtion
on the yerivvtion of t  t
0C ihe only nonBtrivivl xvâ€œe iâ€œ fihen t R =p â†’
s) u  {p
0=u0} s
0 fihere p ; p
0 vny u  u
0 vny s  s
0C lithout loâ€œâ€œ
of genervlityA vâ€œâ€œume vur=) âˆ©  R {}C ]enxe vur=0) âˆ©  âŠ† vur=) âˆ©  R {} wy
aemmv J vny xom=m0)âˆ©  R xom=m) âˆ©  R {}C ihuâ€œA 0={p0=u0}s
0) iâ€œ equvl to
{0 p0=0 u0} =
0 s0) wy aemmv K vny â€œo ==p â†’ s)u) R = p â†’ s) = u) 
{0p0=0 u0} =
0 s0) R 0={p0=u0}s
0)C
gheorem 2A hhy rylution  hus thy xiumonx propyrtfl. hhut is, t  t) unx
t  t2 thyn thyry is t3 suwh thut t)  t3 unx t2  t3.
droof. ihe proof iâ€œ wy inyuxtion on the yenition of pvrvllel reyuxtionC huppoâ€œe
=p2 â†’ s2) u2  =p â†’ s) u  {p)=u)}s)
fihere p ; p) vny p ; p2 vny s  s) vny s  s2 vny u  u) vny
u  u2C Wy inyuxtionA there vre termâ€œ p3; s3 vny u3 â€œuxh thvt p) ; p3
vny p2 ; p3 vny s)  s3 vny s2  s3 vny u)  u3 vny u2  u3C
cofi {p)=u)}

  {p3=u3}

 wy aemmv L vny â€œo {p)=u)}

s)  {p3=u3}

s3 wy
aemmv M â€œinxe xom={p)=u)}

 ) yoeâ€œ not xontvin  wy xonâ€œtruxtionC ]enxeA the
yivmony iâ€œ xompletey wy {p3=u3}

s3C
VgvinA â€œuppoâ€œe =p â†’ s) u  {p2=u2}

s2 vny =p â†’ s) u  {p)=u)}

s)
fihere p ; p) vny p ; p2 vny s  s) vny s  s2 vny u  u) vny
FG
u  u2C Wy inyuxtion there vre termâ€œ p3; s3 vny u3 â€œuxh thvt p) ; p3 vny
p2 ; p3 vny s)  s3 vny s2  s3 vny u)  u3 vny u2  u3C cofi
{p)=u)}

 vny {p2=u2}

 woth pvrvllel reyuxe to {p3=u3}

 wy aemmv L vny â€œo
aemmv M implieâ€œ the yivmony iâ€œ xompletey wy {p3=u3}

s3C ihe other xvâ€œeâ€œ vre
â€œtrvightforfivryC
Corolltry 1 (Conuenve)A hhy ryxuwtion rylution is wonuynt.
droof. iheorem G â€œhofiâ€œ thvt  hvâ€œ the yivmony property vny â€œo the reefliveB
trvnâ€œitive xloâ€œure of  iâ€œ xonuentC cofi vpply aemmv GC
7 Conclusion tnd Furthxr Work
evtternBmvtxhing proviyeâ€œ v nvturvl mexhvniâ€œm for xomputing fiith yvtv â€œtruxB
tureâ€œP itâ€œ eflpreâ€œâ€œive pofier iâ€œ yeterminey wy the nvture of the pvtternâ€œ thvt vre
vllofieyC ihe pure pvttern xvlxuluâ€œ mvflimiâ€œeâ€œ thiâ€œ eflpreâ€œâ€œive pofier wy vllofiing
vny term to we v pvtternC ihe reâ€œulting lvnguvge â€œupportâ€œ pvtternâ€œ thvt vre vwle
to mvtxh fiith vrwitrvry xompouny yvtv â€œtruxtureâ€œ =pvth polymorphiâ€œm)A vny
pvtternâ€œ thvt xvn we vâ€œâ€œemwley yynvmixvlly =uâ€œing free vvrivwleâ€œ to repreâ€œent
pvtternâ€œ) vny â€œimpliey into v mvtxhvwle form =pvttern polymorphiâ€œm)C huxh
pvtternâ€œ fiill prove uâ€œeful fihen mvnipulvting remote yvtv fihoâ€œe â€œtruxture iâ€œ
only pvrtivlly knofinA vâ€œ illuâ€œtrvtey wy the eflvmple of upyvtingC
ihere vre v numwer of open queâ€œtionâ€œ xonxerning the pure pvttern xvlxuluâ€œ
itâ€œelfA vny itâ€œ xonnextionâ€œ to refiritingA logixA type theory vny xvtegory theoryC
ihe mvtxhing proxeâ€œâ€œ mvy eflteny to xonâ€œiyer mvtxhing of xvâ€œeâ€œ vâ€œ fiell vâ€œ of
yvtv â€œtruxtureâ€œA proviyey the winying vvrivwleâ€œ of xvâ€œeâ€œ vre trevtey vpproprivtelyC
le hvve not purâ€œuey thiâ€œ here vâ€œ the xompleflity of the yevelopment fivâ€œ not
juâ€œtiey wy vny nefi formâ€œ of polymorphiâ€œmC ]ofieverA it mvy prove uâ€œeful in
progrvm vnvlyâ€œiâ€œ vny trvnâ€œformvtionC
It iâ€œ not yet xlevr fihvt efltenâ€œionvl equvlity â€œhouly we for the pvttern xvlxuluâ€œA
vâ€œ evrlier fiork on efltenâ€œionvlly for pvtternBmvtxhing pKeâ€œNLr yoeâ€œ not tvke full
vxxount of yvtv â€œtruxtureâ€œC [or eflvmpleA the Bequvlity rule f R x:f x yoeâ€œ not
vpply in our â€œetting â€œinxe v yvtv â€œtruxture iâ€œ not v xvâ€œeC
Vnother iâ€œâ€œue xonxernâ€œ higherBoryer refiriting fiithin v formvliâ€œm fiith pvtB
ternâ€œ p[KEHrC It â€œeemâ€œ nvturvl to eflteny â€œuxh lvnguvgeâ€œ to xvpture the rixh
yynvmixâ€œ of the pvtternâ€œ preâ€œentey hereC
In the â€œpirit of pKeiNKr it fiouly we intereâ€œting to eflplore v XurryB]ofivry
interpretvtion for the pure pvttern xvlxuluâ€œ in oryer to rexogniâ€œeA or yevelopA
the xorreâ€œponying logixC [or eflvmpleA mvtxhing vgvinâ€œt vrwitrvry xompounyâ€œ
vppevrâ€œ to moyel â€œtruxturvl inyuxtion pWurKNr in v uniform fivyC
ihe xvlxuluâ€œ preâ€œentey here uâ€œeâ€œ v metvBlevel =or implixit) pvtternBmvtxhing
opervtionC dne xouly vlâ€œo xonâ€œiyer eflplixit pvtternBmvtxhingA fihere the mvtxh
equvtionâ€œ wexome themâ€œelveâ€œ refiriting ruleâ€œ fihixh xvn then we interlevvey fiith
other reyuxtionâ€œ pXKNNA[orEGAKvhEHAJvyEIxrC
It iâ€œ â€œtrvightforfivry to proviye â€œimple typeâ€œ vny inyeey to â€œupport pvrvmetB
rix polymorphiâ€œmC df more intereâ€œt fiill we the vyyition of type â€œpexivliâ€œvtionâ€œ
FH
pJvyEIxr nexeâ€œâ€œvry to type the more xomplefl eflvmpleâ€œC ihe xvlxuluâ€œ fiill then
proviye v xlevn founyvtion for v typey vxxount of mba pvthâ€œA vâ€œ yeâ€œxriwey
in p]JhEJvA]JhEJwr vny v plvtform upon fihixh to moyel owjextBorientvtionA
vlong the lineâ€œ propoâ€œey in pJvyEIwrC
ihe yenotvtionvl â€œemvntixâ€œ of the pvttern xvlxuluâ€œ vlâ€œo vfivitâ€œ eflplorvtionC
It iâ€œ not yet xlevr hofi to repreâ€œent v xvâ€œe in v yomvinBtheoretix â€œettingC Vâ€œ v
lvmwyvBvwâ€œtrvxtion iâ€œ vn vrrofi in v xvtegory then perhvpâ€œ v xvâ€œe iâ€œ v spun in v
xvtegory orA rvtherA the internvliâ€œvtion of v â€œpvnC
In xonxluâ€œionA the pure pvttern xvlxuluâ€œ proviyeâ€œ v xompvxt â€œetting in fihixh
to hvnyle woth funxtionâ€œ vny yvtv â€œtruxtureâ€œ in v uniform mvnnerA vny â€œo â€œupB
port nefi formâ€œ of polymorphiâ€œmC
exfxrxncxs
nUtrKGp [xnk UtrxnwrxgtA Mae Eafbda Caecnenl3 Iml Lrgmaq agd Lefagmbcl, volumx
DCF oy Lmndbel bg Ehgbc agd mae Fhngdambhgl hf FamaefambclA aorth-[olltnw,
DLKGA exvisxw XwitionA
nUVKLCFp Gillxs Utrthx, [orttiu Virstxt, Vltuwx Kirvhnxr, tnw Luigi LiquoriA curx
ctttxrn gypx fystxmsA In Ikhceedbggl hf mae ,)ma :ggnae :CF Lrfihlbnf
hg Ikbgcbieel hf Ikhgkaffbgg Eaggnagel (IOIE), ptgxs EHCâ€“EIDA TVM,
ECCFA
nUwM[LIp eivhtrw Uirw, bxgx wx Moor, tnw ctul [oogxnwijkA Gxnxriv yunvtiontl
progrtmming with typxs tnw rxlttionsA Chnkgae hf Fngcmbhgae Ikhgkaffbgg,
I(D)MDâ€“EK, DLLIA
nUurILp eow MA UursttllA croving propxrtixs oy progrtms uy struvturtl inwuvtionA
Mae Chfinmek Chnkgae, DLILA
nVKLKp [orttiu Virstxt tnw Vltuwx KirvhnxrA -vtlvulus, thx rxwriting vtlvulusA In
.ma Igmekgambhgae Phkdlahi hg Chglmkabgml bg Chfinmambhgae Ehgbcl (CCE),
DLLKA
nVKLLp fxrxnxllt Vxrrito tnw Wxlit KxsnxrA ctttxrn mttvhing ts vut xliminttionA In
Giusxppx Longo, xwitor, 1-ma :ggnae IEEE Lrfihlbnf hg Ehgbc bg Chf-
inmek Lcbegce (EICL), ptgxs LKâ€“DCKA IXXX Vomputxr fovixty crxss, DLLLA
nYKCFp ]ulixn Yorxst tnw Wxlit KxsnxrA Xxprxssion rxwuvtion systxms with ptttxrnsA
In eouxrt aixuwxnhuis, xwitor, 1-ma Igmekgambhgae Chgfekegce hg Kepkbmbgg
Mecagbjnel agd :iiebcambhgl (KM:), volumx EJCI oy Eecmnke Ghmel bg Chf-
inmek Lcbegce, ptgxs DCJâ€“DEEA fpringxr-ixrltg, ECCFA
nYorCEp ]ulixn YorxstA T wxtk vtlvulus with xxplivit opxrttors yor ptttxrn mttvhing
tnw suustitutionA In fophix gison, xwitor, 1,ma Igmekgambhgae Chgfekegce
hg Kepkbmbgg Mecagbjnel agd :iiebcambhgl (KM:), volumx EFJK oy Eecmnke
Ghmel bg Chfinmek Lcbegce, ptgxs DJGâ€“DLDA fpringxr-ixrltg, ECCEA
nG]CFp ]xrxmy Giuuons tnw ]ohtn ]xuring, xwitorsA Gegekbc Ikhgkaffbgg3
IFII MC2(PG2â€™1 Phkdbgg Chgfekegce hg Gegekbc Ikhgkaffbgg Cner 11-
12,2))2, Daglmnae, GekfagrA Kluwxr Tvtwxmiv cuulishxrs, ECCFA
n[tsp ghx [tskxll ltngutgxA hggc-//jjj.hafke__.beg/A
n[]fCHtp Yrxxmtn luyxi [utng, VA Utrry ]ty, tnw Wtviw UA fkillivornA Wxtling with
vomplxx ptttxrns in kML provxssingA gxvhnivtl export ECCH-GLJ, duxxn:s
hnivxrsity fvhool oy Vomputing, ECCHA
FI
n[]fCHup Yrxxmtn luyxi [utng, VA Utrry ]ty, tnw Wtviw UA fkillivornA crogrtmming
with hxtxrogxnxous struvturxsM Mtnipultting kML wttt using bondiA gxvh-
nivtl export ECCH-GLG, duxxn:s hnivxrsity fvhool oy Vomputing, ECCHA go
tppxtr in TVfj:CIA
n]tnCCp cttrivk ]tnssonA Fngcmbhgae Ihermribc IkhgkaffbggA chW thxsis, Vomput-
ing fvixnvx, Vhtlmxrs hnivxrsity oy gxvhnology tnw Gotxuorg hnivxrsity,
fwxwxn, Mty ECCCA
n]tyCGtp VA Utrry ]tyA [ighxr-orwxr ptttxrnsA Tvtiltulx ts jjj-fgaff.ig.hgf.edh.
ah/~cbj/Phb_icagibaf/highee_bedee_caggeeaf.cdf, ECCGA
n]tyCGup VA Utrry ]tyA Mxthows ts ptttxrn-mttvhing yunvtionsA In fophit
Wrossopoulou, xwitor, Mae 11ma Igmekgambhgae Phkdlahi hg Fhngdambhgl hf
Obcecm-Okbegmed Eaggnagel, ECCGA crovA tvtiltulx ts hggc-//jjj.dbc.ic.
ac.hk/~fcd/FOO.cdfA
n]tyCGvp VA Utrry ]tyA ghx ptttxrn vtlvulusA :CF Mkaglacmbhgl hg Ikhgkaffbgg
Eaggnagel agd Lrlmefl (MOIE:L), EI(I)MLDDâ€“LFJ, aovxmuxr ECCGA
n]UMLKp VA Utrry ]ty, Gitnnt Uxllx, tnw Xugxnio MoggiA Yunvtoritl MLA Chnkgae
hf Fngcmbhgae Ikhgkaffbgg, K(I)MHJFâ€“IDL, DLLKA
n]VLGp VA Utrry ]ty tnw ]A eouin UA VovkxttA fhtpxly typxs tnw shtpx poly-
morphismA In WA ftnnxllt, xwitor, Ikhgkaffbgg Eaggnagel agd Lrlmefl
- ELOI '2-3 .ma Enkhieag Lrfihlbnf hg Ikhgkaffbgg, Edbgbnkga, Nâ€™Dâ€™,
:ikbe 122-, Ikhceedbggl, volumx JKK oy Eecmnke Ghmel bg Chfinmek Lcbegce,
ptgxs FCEâ€“FDIA fpringxr ixrltg, DLLGA
nKthCFp jolyrtm KthlA Utsiv ptttxrn mttvhing vtlvuliM fynttx, rxwuvtion, vonu-
xnvx, tnw normtlisttionA gxvhnivtl export DI, foytwtrx dutlity exsxtrvh
Ltuorttory, MvMtstxr hnivA, ECCFA
nKxsLJp Wxlit KxsnxrA extsoning tuout rxwunwtnt ptttxrnsA Chnkgae hf Fngcmbhgae
agd Ehgbc Ikhgkaffbgg, DLLJ(G), ]unx DLLJA
nKloKCp ]tn-jillxm KlopA Chfbbgamhkr Kedncmbhg LrlmeflA chW thxsis, Mtthxmtt-
ivtl Vxntrx grtvts DEJ, VjI, Tmstxrwtm, DLKCA
nKcgLIp Wxlit Kxsnxr, Lturxnvx cuxl, tnw itl gtnnxnA T gypxw ctttxrn VtlvulusA
Igfhkfambhg agd Chfinmambhg, DEG(D)MFEâ€“ID, DLLIA
nbvtp ghx bujxvtivx Vtml ltngutgxA hggc-//cam_.iaeia.fe/A
nfMLp SJandard ML of NeM JerseyA hggc-//cm.be__-_abf.cbm/cm/cf/jhag/
fm_aj/A
nsyuCIp fvrtp your uoilxrplttx homxptgxA hggc-//jjj.cf.ih.a_/bbi_eec_age/,
ECCIA
FJ
